<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="icon" href="icon.png" type="image/gif" sizes="16x16">
    <title>ZOMBIE GAME</title>
</head>

<body style="background-image: url('Images/zombie_game_background.jpg'); background-size: cover;" class="gameover">
    <div class="text-center fixed-bottom text-white">
        <h1>Press 'spacebar' to go back</h1>
    </div>
</body>

</html>
<script src='http://www.spelprogrammering.nu/simple.js'>
    const gamemode = localStorage.getItem("gamemode");

    if (gamemode === 'easy') {
        var amount = 12
        var speed = random(1,5)
    }
    if (gamemode === 'medium') {
        var amount = 18
        var speed = random(1,8)
    }
    if (gamemode === 'hard') {
        var amount = 30
        var speed = random(10,12)
    }


    var zombies = [];
    var i = 0;

    while (i < amount) {
        zombies.push({x: random(totalWidth), y: random(totalHeight), speed: speed});
        i += 1
    }
    
    function update() 
    {
        clearScreen();

        var i = 0;

        while (i < amount) {
            document.body.onkeyup = function(spacebar){
                if(spacebar.keyCode == 32){
                    location.replace("startpage.html")

                }
            }
            var zombie = zombies[i]; 

    
            picture(zombie.x, zombie.y, 'Images/zombie_game_character_image.png')

            if (zombie.x < mouse.x)
                zombie.x += zombie.speed;
            else 
                zombie.x -= zombie.speed;

            if (zombie.y < mouse.y)
                zombie.y += zombie.speed;
            else 
                zombie.y -= zombie.speed;


            if (distance(mouse, zombie) < 8 ) 
            {
                stopUpdate();
                location.replace('gameover.html')
            }

            i += 1;
        }
    } 
</script>